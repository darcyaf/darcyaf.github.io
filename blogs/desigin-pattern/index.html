<!DOCTYPE html> <html lang="en" class="no-js"> <head> <meta charset="UTF-8"/> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>darcyaf's blog</title> <meta name="description" content="于是我不再唱歌"/> <meta name="keywords" content="PHP Programmer"/> <meta name="author" content="darcyaf"/> <link rel="shortcut icon" href="../img/favicon.ico"> <link rel="stylesheet" type="text/css" href="../css/normalize.css"/> <link rel="stylesheet" type="text/css" href="../css/highlight.css"/> <link rel="stylesheet" type="text/css" href="../fonts/font-awesome/css/font-awesome.css"/> <link rel="stylesheet" type="text/css" href="../css/modern-blog.css"/> <!--[if IE]> <script type="text/javascript" src="../js/vendors/html5.min.js"></script> <![endif]--> <script> if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) { var root = document.getElementsByTagName('html')[0]; root.setAttribute('class', 'ff'); } </script> </head> <body class="body"> <div class="container"> <header class="header"> <h1>c.j 的博客<span>不乱于心，不困于情。不畏将来，不念过往。如此，安好。</span></h1> <nav class="links"> </nav> </header> <nav > <ul class="nav-container"> <li class="nav-item"><a href="/">homepage</a></li> <li class="nav-item"><a href="..//blogs/php/#">php</a></li> <li class="nav-item"><a href="..//blogs/thinkings/#">thinkings</a></li> <li class="nav-item"><a href="..//blogs/desigin-pattern/#">desigin-pattern</a></li> </ul> </nav> <div class="content"> <!-- trianglify pattern container --> <div class="pattern pattern--hidden"></div> <!-- cards --> <div class="wrapper"> <div class="card" data-id="/desigin-pattern/2018/07/30/strategy"> <div class="card__container card__container--closed"> <svg class="card__image" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1920 1200" preserveAspectRatio="xMidYMid slice"> <defs> <clipPath id="/desigin-pattern/2018/07/30/strategy-clip-path"> <polygon class="clip" points="0,1200 0,0 1920,0 1920,1200"></polygon> </clipPath> </defs> <image clip-path="url(#/desigin-pattern/2018/07/30/strategy-clip-path)" width="1920" height="1200" xlink:href="../img/f.jpg"></image> </svg> <div class="card__content"> <i class="card__btn-close fa fa-times"></i> <div class="card__caption"> <h2 class="card__title">Strategy Pattern</h2> <p class="card__subtitle">策略模式</p> </div> <div class="card__copy"> <div class="meta"> <img class="meta__avatar" src="../img/authors/wferr.png"/> <span class="meta__author">c.j</span> <span class="meta__date">2018-07-30</span> </div> <h3 id="definition">Definition</h3> <p>定义了算法族，分别封装起来，让他们之间可以互相替换，此模式让算法的变化独立于使用算法的客户</p> <h3 id="example-以做鸭子作为例子">Example 以做鸭子作为例子：</h3> <ul> <li>v1</li> </ul> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span>  <span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Duck</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">quack</span><span class="o">();</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">swim</span><span class="o">();</span>
    <span class="o">}</span></code></pre></figure> <p>看起来很好，我们只用了一个抽象类就实现了鸭子的功能,但是，当我们需要拓展时就遇到了问题， 比如我要绿帽鸭会飞。此时就无法直接用抽象类来做，否则所有的鸭子都会有这个功能。 因此考虑到使用组合来实现。</p> <ul> <li>v2</li> </ul> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span>   <span class="kd">public</span> <span class="kd">class</span> <span class="nc">GreenHatDuck</span> <span class="kd">implements</span> <span class="n">Flyable</span><span class="o">,</span><span class="n">Quackable</span><span class="o">{</span>
     <span class="o">}</span></code></pre></figure> <p>看起来确实满足了我们的要求，我们可以实现这个接口，就可以实现全自定义。 但是啊，未免工作量也太大了吧，每增加一个接口就需要一段复制粘贴</p> <ul> <li>v3 每个行为都由超类来做定义，然后在进行实现，每个Duck在初始化的时候实现对应的具体类</li> </ul> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">FlyBehavior</span><span class="o">{</span>
  <span class="kd">public</span> <span class="n">function</span> <span class="nf">fly</span><span class="o">()</span></code></pre></figure> </div> </div> </div> </div> <!-- /cards --> </div> </div> <!-- /container --> </div> <!-- JS --> <script src="../js/vendors/trianglify.min.js"></script> <script src="../js/vendors/TweenMax.min.js"></script> <script src="../js/vendors/ScrollToPlugin.min.js"></script> <script src="../js/vendors/cash.min.js"></script> <script src="../js/card-modern-blog.js"></script> <script src="../js/modern-blog.js"></script> </body> </html>
